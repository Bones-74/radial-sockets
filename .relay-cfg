app
{
  update_timer 50
  webserver_port 30080
  location -1.82:52.9
}

board
{
  name b1
  #type ada_ft232h
  type SIM
  port /dev/ttyUSB0
  num-chan 16
}

socket
{
  name hall01
  board b1
  channel 08
  sense active-low
  monitor_socket
  {
     board b1
     channel 14
     sense active-low
  }
  monitor_hw_ovr_on
  {
     board b1
     channel 15
     sense active-low
  }
  # on at 30mins before sunrise; random 5mins (27:30 - 32:30) if before 8am (or at 08:00)
  # on at 30mins before sunset; random 5mins (27:30 - 32:30) if after 17:00 (or at 17:00)
  # on at 30mins before sunset; random 5mins (27:30 - 32:30) if > 17:00
  states
  [  
    #0 on @  06:00
    #1 off @  08:00
    #3 on @  19:00
    #4 off @  23:00
    0 on @  sr-00:30
    1 off @  sr+00:30
    2 on @  ss-00:30
    3 off @  23:00
    #0 on @  sr - 00:30 if after 07:15        
    #1 on @ 07:15 if after sr - 00:30
    #2 off @  sr + 00:30 if before 08:00        
    #3 off @ 08:00 if before sr + 00:30
    #4 on @  ss - 00:30~00:05 if after 17:00        
    #5 off @  17:00  if after ss - 00:30~00:05 
  ]
}

socket
{
  name hall02
  board b1
  channel 01
  sense active-low
  # on at 30mins before sunrise; random 5mins (27:30 - 32:30) if before 8am (or at 08:00)
  # on at 30mins before sunset; random 5mins (27:30 - 32:30) if after 17:00 (or at 17:00)
  # on at 30mins before sunset; random 5mins (27:30 - 32:30) if > 17:00
  states
  [  
       0 off @ sr+00:30 if before 08:00
       1 off @ 08:00 if before sr+00:30
       2 on @  ss-00:30 if after 17:00
       3 on @  17:00 if after ss-00:30
  ]
}

socket
{
  name hall03
  board b1
  channel 02
  sense active-low
  # on at 30mins before sunrise; random 5mins (27:30 - 32:30) if before 8am (or at 08:00)
  # on at 30mins before sunset; random 5mins (27:30 - 32:30) if after 17:00 (or at 17:00)
  # on at 30mins before sunset; random 5mins (27:30 - 32:30) if > 17:00
  states
  [  
       0 on @ sr-00:30
       1 off @ sr+00:30
       2 on @  ss-00:30
       3 off @  ss+00:30
  ]
}
